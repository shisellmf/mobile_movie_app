{"version":3,"sources":["deal-with-animation.test.ts"],"names":["withSpring","withTiming","dealWithAnimation","jest","mock","fn","value","_config","callback","describe","beforeEach","clearAllMocks","it","springConfig","damping","stiffness","animation","type","config","result","expect","toHaveBeenCalledWith","any","Function","toBe","timingConfig","duration","mass","objectContaining","toHaveBeenCalledTimes","animation1","animation2","not"],"mappings":"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","sourcesContent":["import { withSpring, withTiming } from \"react-native-reanimated\";\n\nimport { dealWithAnimation } from \"./deal-with-animation\";\n\n// Mock Reanimated\njest.mock(\"react-native-reanimated\", () => ({\n  withSpring: jest.fn((value, _config, callback) => {\n    callback?.(true);\n    return value;\n  }),\n  withTiming: jest.fn((value, _config, callback) => {\n    callback?.(true);\n    return value;\n  }),\n}));\n\ndescribe(\"dealWithAnimation\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it(\"should handle spring animation\", () => {\n    const callback = jest.fn();\n    const springConfig = {\n      damping: 20,\n      stiffness: 90,\n    };\n\n    const animation = dealWithAnimation({\n      type: \"spring\",\n      config: springConfig,\n    });\n\n    const result = animation(100, callback);\n\n    expect(withSpring).toHaveBeenCalledWith(100, springConfig, expect.any(Function));\n    expect(callback).toHaveBeenCalledWith(true);\n    expect(result).toBe(100);\n  });\n\n  it(\"should handle timing animation\", () => {\n    const callback = jest.fn();\n    const timingConfig = {\n      duration: 300,\n    };\n\n    const animation = dealWithAnimation({\n      type: \"timing\",\n      config: timingConfig,\n    });\n\n    const result = animation(100, callback);\n\n    expect(withTiming).toHaveBeenCalledWith(100, timingConfig, expect.any(Function));\n    expect(callback).toHaveBeenCalledWith(true);\n    expect(result).toBe(100);\n  });\n\n  it(\"should pass animation config correctly\", () => {\n    const springConfig = {\n      damping: 10,\n      mass: 1,\n      stiffness: 100,\n    };\n\n    const animation = dealWithAnimation({\n      type: \"spring\",\n      config: springConfig,\n    });\n\n    animation(100, jest.fn());\n\n    expect(withSpring).toHaveBeenCalledWith(\n      100,\n      expect.objectContaining(springConfig),\n      expect.any(Function)\n    );\n  });\n\n  it(\"should handle animation completion\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"timing\",\n      config: { duration: 300 },\n    });\n\n    animation(100, callback);\n\n    expect(callback).toHaveBeenCalledWith(true);\n  });\n\n  it(\"should handle spring animation with different values\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"spring\",\n      config: { damping: 15 },\n    });\n\n    animation(0, callback);\n    animation(-100, callback);\n    animation(500, callback);\n\n    expect(withSpring).toHaveBeenCalledWith(0, { damping: 15 }, expect.any(Function));\n    expect(withSpring).toHaveBeenCalledWith(-100, { damping: 15 }, expect.any(Function));\n    expect(withSpring).toHaveBeenCalledWith(500, { damping: 15 }, expect.any(Function));\n    expect(callback).toHaveBeenCalledTimes(3);\n  });\n\n  it(\"should handle timing animation with different values\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"timing\",\n      config: { duration: 500 },\n    });\n\n    animation(0, callback);\n    animation(-50, callback);\n    animation(1000, callback);\n\n    expect(withTiming).toHaveBeenCalledWith(0, { duration: 500 }, expect.any(Function));\n    expect(withTiming).toHaveBeenCalledWith(-50, { duration: 500 }, expect.any(Function));\n    expect(withTiming).toHaveBeenCalledWith(1000, { duration: 500 }, expect.any(Function));\n    expect(callback).toHaveBeenCalledTimes(3);\n  });\n\n  it(\"should handle empty spring config\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"spring\",\n      config: {},\n    });\n\n    animation(100, callback);\n\n    expect(withSpring).toHaveBeenCalledWith(100, {}, expect.any(Function));\n    expect(callback).toHaveBeenCalledWith(true);\n  });\n\n  it(\"should handle empty timing config\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"timing\",\n      config: {},\n    });\n\n    animation(100, callback);\n\n    expect(withTiming).toHaveBeenCalledWith(100, {}, expect.any(Function));\n    expect(callback).toHaveBeenCalledWith(true);\n  });\n\n  it(\"should handle fractional values\", () => {\n    const callback = jest.fn();\n    const animation = dealWithAnimation({\n      type: \"spring\",\n      config: { damping: 10 },\n    });\n\n    animation(50.5, callback);\n    animation(-25.75, callback);\n\n    expect(withSpring).toHaveBeenCalledWith(50.5, { damping: 10 }, expect.any(Function));\n    expect(withSpring).toHaveBeenCalledWith(-25.75, { damping: 10 }, expect.any(Function));\n  });\n\n  it(\"should create different animation functions for different configs\", () => {\n    const animation1 = dealWithAnimation({\n      type: \"spring\",\n      config: { damping: 10 },\n    });\n\n    const animation2 = dealWithAnimation({\n      type: \"timing\",\n      config: { duration: 200 },\n    });\n\n    expect(animation1).not.toBe(animation2);\n    expect(typeof animation1).toBe(\"function\");\n    expect(typeof animation2).toBe(\"function\");\n  });\n});\n"]}