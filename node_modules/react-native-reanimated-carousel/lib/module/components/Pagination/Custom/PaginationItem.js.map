{"version":3,"sources":["PaginationItem.tsx"],"names":["React","Pressable","Animated","Extrapolation","interpolate","interpolateColor","useAnimatedStyle","runOnJS","useSharedValue","useDerivedValue","PaginationItem","props","defaultDotSize","animValue","dotStyle","activeDotStyle","index","count","size","horizontal","children","customReanimatedStyle","onPress","accessibilityLabel","customReanimatedStyleRef","handleCustomAnimation","progress","value","animStyle","width","height","borderRadius","backgroundColor","restDotStyle","activeWidth","activeHeight","activeBorderRadius","activeBackgroundColor","restActiveDotStyle","val","Math","abs","inputRange","restStyle","CLAMP","transform","selected","overflow","rotateZ"],"mappings":"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","sourcesContent":["import type { PropsWithChildren } from \"react\";\nimport React from \"react\";\nimport { Pressable } from \"react-native\";\nimport type { ViewStyle } from \"react-native\";\nimport type { SharedValue } from \"react-native-reanimated\";\nimport Animated, {\n  Extrapolation,\n  interpolate,\n  interpolateColor,\n  useAnimatedStyle,\n  runOnJS,\n  useSharedValue,\n  useDerivedValue,\n} from \"react-native-reanimated\";\n\nimport type { DefaultStyle } from \"react-native-reanimated/lib/typescript/reanimated2/hook/commonTypes\";\n\nexport type DotStyle = Omit<ViewStyle, \"width\" | \"height\" | \"backgroundColor\" | \"borderRadius\"> & {\n  width?: number;\n  height?: number;\n  backgroundColor?: string;\n  borderRadius?: number;\n};\n\nexport const PaginationItem: React.FC<\n  PropsWithChildren<{\n    index: number;\n    count: number;\n    size?: number;\n    animValue: SharedValue<number>;\n    horizontal?: boolean;\n    dotStyle?: DotStyle;\n    activeDotStyle?: DotStyle;\n    onPress: () => void;\n    customReanimatedStyle?: (progress: number, index: number, length: number) => DefaultStyle;\n    accessibilityLabel?: string;\n  }>\n> = (props) => {\n  const defaultDotSize = 10;\n  const {\n    animValue,\n    dotStyle,\n    activeDotStyle,\n    index,\n    count,\n    size,\n    horizontal,\n    children,\n    customReanimatedStyle,\n    onPress,\n    accessibilityLabel,\n  } = props;\n  const customReanimatedStyleRef = useSharedValue<DefaultStyle>({});\n  const handleCustomAnimation = (progress: number) => {\n    customReanimatedStyleRef.value = customReanimatedStyle?.(progress, index, count) ?? {};\n  };\n\n  useDerivedValue(() => {\n    runOnJS(handleCustomAnimation)(animValue?.value);\n  });\n\n  const animStyle = useAnimatedStyle((): DefaultStyle => {\n    const {\n      width = size || defaultDotSize,\n      height = size || defaultDotSize,\n      borderRadius,\n      backgroundColor = \"#FFF\",\n      ...restDotStyle\n    } = dotStyle ?? {};\n    const {\n      width: activeWidth = width,\n      height: activeHeight = height,\n      borderRadius: activeBorderRadius,\n      backgroundColor: activeBackgroundColor = \"#000\",\n      ...restActiveDotStyle\n    } = activeDotStyle ?? {};\n    let val = Math.abs(animValue?.value - index);\n    if (index === 0 && animValue?.value > count - 1) val = Math.abs(animValue?.value - count);\n\n    const inputRange = [0, 1, 2];\n    const restStyle = (val === 0 ? restActiveDotStyle : restDotStyle) ?? {};\n\n    return {\n      width: interpolate(val, inputRange, [activeWidth, width, width], Extrapolation.CLAMP),\n      height: interpolate(val, inputRange, [activeHeight, height, height], Extrapolation.CLAMP),\n      borderRadius: interpolate(\n        val,\n        inputRange,\n        [activeBorderRadius ?? borderRadius ?? 0, borderRadius ?? 0, borderRadius ?? 0],\n        Extrapolation.CLAMP\n      ),\n      backgroundColor: interpolateColor(val, inputRange, [\n        activeBackgroundColor,\n        backgroundColor,\n        backgroundColor,\n      ]),\n      ...restStyle,\n      ...(customReanimatedStyleRef.value ?? {}),\n      transform: [\n        ...(restStyle?.transform ?? []),\n        ...(customReanimatedStyleRef.value?.transform ?? []),\n      ] as DefaultStyle[\"transform\"],\n    };\n  }, [animValue, index, count, horizontal, dotStyle, activeDotStyle, customReanimatedStyle]);\n\n  return (\n    <Pressable\n      onPress={onPress}\n      accessibilityLabel={accessibilityLabel}\n      accessibilityRole=\"button\"\n      accessibilityHint={animValue.value === index ? \"\" : `Go to ${accessibilityLabel}`}\n      accessibilityState={{ selected: animValue.value === index }}\n    >\n      <Animated.View\n        style={[\n          {\n            overflow: \"hidden\",\n            transform: [\n              {\n                rotateZ: horizontal ? \"90deg\" : \"0deg\",\n              },\n            ],\n          },\n          dotStyle,\n          animStyle,\n        ]}\n      >\n        {children}\n      </Animated.View>\n    </Pressable>\n  );\n};\n"]}