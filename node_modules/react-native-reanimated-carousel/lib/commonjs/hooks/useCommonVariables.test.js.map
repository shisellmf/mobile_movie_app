{"version":3,"sources":["useCommonVariables.test.tsx"],"names":["input","vertical","width","height","loop","enabled","testID","style","autoPlay","autoPlayInterval","data","renderItem","pagingEnabled","defaultIndex","autoFillData","dataLength","rawData","rawDataLength","scrollAnimationDuration","snapEnabled","overscrollEnabled","describe","it","hook","expect","result","current","size","toMatchInlineSnapshot","validLength","handlerOffset","value","verticalInput","toBe","inputWithDefaultIndex","customOffset","addListener","jest","fn","removeListener","modify","inputWithCustomOffset","defaultScrollOffsetValue","singleItemInput","emptyInput","negativeIndexInput","noLoopInput","props","initialProps","updatedInput","rerender","zeroSizeInput","largeIndexInput","verticalZeroHeightInput","floatInput","testCases","expected","testInput"],"mappings":"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","sourcesContent":["import { renderHook } from \"@testing-library/react-hooks\";\n\nimport { useCommonVariables } from \"./useCommonVariables\";\nimport { TInitializeCarouselProps } from \"./useInitProps\";\n\ntype UseCommonVariablesInput = Parameters<typeof useCommonVariables>[0];\n\nconst input = {\n  vertical: false,\n  width: 700,\n  height: 350,\n  loop: true,\n  enabled: true,\n  testID: \"xxx\",\n  style: {\n    width: \"100%\",\n  },\n  autoPlay: false,\n  autoPlayInterval: 2000,\n  data: [0, 1, 2, 3],\n  renderItem: () => null,\n  pagingEnabled: true,\n  defaultIndex: 0,\n  autoFillData: true,\n  dataLength: 4,\n  rawData: [0, 1, 2, 3],\n  rawDataLength: 4,\n  scrollAnimationDuration: 500,\n  snapEnabled: true,\n  overscrollEnabled: true,\n} as unknown as UseCommonVariablesInput;\n\ndescribe(\"useCommonVariables\", () => {\n  it(\"should return the correct values\", async () => {\n    const hook = renderHook(() => useCommonVariables(input));\n\n    expect(hook.result.current.size).toMatchInlineSnapshot(\"700\");\n    expect(hook.result.current.validLength).toMatchInlineSnapshot(\"3\");\n    expect(hook.result.current.handlerOffset.value).toMatchInlineSnapshot(\"-0\");\n  });\n\n  it(\"should handle vertical orientation\", () => {\n    const verticalInput = {\n      ...input,\n      vertical: true,\n    } as TInitializeCarouselProps<any>;\n\n    const hook = renderHook(() => useCommonVariables(verticalInput));\n\n    expect(hook.result.current.size).toBe(350); // Should use height instead of width\n    expect(hook.result.current.validLength).toBe(3);\n  });\n\n  it(\"should calculate defaultHandlerOffsetValue correctly with non-zero defaultIndex\", () => {\n    const inputWithDefaultIndex = {\n      ...input,\n      defaultIndex: 2,\n    };\n\n    const hook = renderHook(() => useCommonVariables(inputWithDefaultIndex));\n\n    expect(hook.result.current.handlerOffset.value).toBe(-1400); // -2 * 700\n  });\n\n  it(\"should use custom defaultScrollOffsetValue when provided\", () => {\n    const customOffset = {\n      value: -500,\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      modify: jest.fn(),\n    };\n    const inputWithCustomOffset = {\n      ...input,\n      defaultScrollOffsetValue: customOffset,\n    };\n\n    const hook = renderHook(() => useCommonVariables(inputWithCustomOffset));\n\n    expect(hook.result.current.handlerOffset).toBe(customOffset);\n    expect(hook.result.current.handlerOffset.value).toBe(-500);\n  });\n\n  it(\"should handle single data item\", () => {\n    const singleItemInput = {\n      ...input,\n      dataLength: 1,\n      data: [0],\n    };\n\n    const hook = renderHook(() => useCommonVariables(singleItemInput));\n\n    expect(hook.result.current.validLength).toBe(0); // dataLength - 1\n  });\n\n  it(\"should handle zero dataLength\", () => {\n    const emptyInput = {\n      ...input,\n      dataLength: 0,\n      data: [],\n    };\n\n    const hook = renderHook(() => useCommonVariables(emptyInput));\n\n    expect(hook.result.current.validLength).toBe(-1); // dataLength - 1\n  });\n\n  it(\"should handle negative defaultIndex\", () => {\n    const negativeIndexInput = {\n      ...input,\n      defaultIndex: -1,\n    };\n\n    const hook = renderHook(() => useCommonVariables(negativeIndexInput));\n\n    expect(hook.result.current.handlerOffset.value).toBe(-700); // -Math.abs(-1 * 700)\n  });\n\n  it(\"should handle loop disabled\", () => {\n    const noLoopInput = {\n      ...input,\n      loop: false,\n    };\n\n    const hook = renderHook(() => useCommonVariables(noLoopInput));\n\n    expect(hook.result.current.size).toBe(700);\n    expect(hook.result.current.validLength).toBe(3);\n  });\n\n  it(\"should update when props change\", () => {\n    const hook = renderHook(({ props }) => useCommonVariables(props), {\n      initialProps: { props: input },\n    });\n\n    expect(hook.result.current.size).toBe(700);\n\n    // Update width\n    const updatedInput = {\n      ...input,\n      width: 800,\n    };\n\n    hook.rerender({ props: updatedInput });\n    expect(hook.result.current.size).toBe(800);\n  });\n\n  it(\"should handle dataLength changes\", () => {\n    const hook = renderHook(({ props }) => useCommonVariables(props), {\n      initialProps: { props: input },\n    });\n\n    expect(hook.result.current.validLength).toBe(3);\n\n    // Update dataLength\n    const updatedInput = {\n      ...input,\n      dataLength: 6,\n    };\n\n    hook.rerender({ props: updatedInput });\n    expect(hook.result.current.validLength).toBe(5);\n  });\n\n  it(\"should handle zero size (edge case)\", () => {\n    const zeroSizeInput = {\n      ...input,\n      width: 0,\n    };\n\n    const hook = renderHook(() => useCommonVariables(zeroSizeInput));\n\n    expect(hook.result.current.size).toBe(0);\n    expect(hook.result.current.handlerOffset.value).toBe(-0); // -Math.abs(0 * 0)\n  });\n\n  it(\"should handle large defaultIndex\", () => {\n    const largeIndexInput = {\n      ...input,\n      defaultIndex: 10,\n    };\n\n    const hook = renderHook(() => useCommonVariables(largeIndexInput));\n\n    expect(hook.result.current.handlerOffset.value).toBe(-7000); // -Math.abs(10 * 700)\n  });\n\n  it(\"should handle vertical with zero height\", () => {\n    const verticalZeroHeightInput = {\n      ...input,\n      vertical: true,\n      height: 0,\n    } as TInitializeCarouselProps<any>;\n\n    const hook = renderHook(() => useCommonVariables(verticalZeroHeightInput));\n\n    expect(hook.result.current.size).toBe(0);\n  });\n\n  it(\"should handle floating point dimensions\", () => {\n    const floatInput = {\n      ...input,\n      width: 700.5,\n      height: 350.25,\n    };\n\n    const hook = renderHook(() => useCommonVariables(floatInput));\n\n    expect(hook.result.current.size).toBe(700.5);\n  });\n\n  it(\"should calculate validLength correctly for different data lengths\", () => {\n    const testCases = [\n      { dataLength: 0, expected: -1 },\n      { dataLength: 1, expected: 0 },\n      { dataLength: 5, expected: 4 },\n      { dataLength: 100, expected: 99 },\n    ];\n\n    for (const { dataLength, expected } of testCases) {\n      const testInput = {\n        ...input,\n        dataLength,\n      };\n\n      const hook = renderHook(() => useCommonVariables(testInput));\n      expect(hook.result.current.validLength).toBe(expected);\n    }\n  });\n});\n"]}